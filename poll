select meeting_id, event_date, start_time, end_time, created_at, completed_at, payload_submitted_at
from meeting_records
where candidate_id = '10063807'
order by created_at desc
limit 5;


select
  meeting_id,
  candidate_id,
  subject,
  region,
  environment,
  event_date,
  start_time,
  end_time,
  created_at,
  payload_submitted_at,
  completed_at,
  processing_duration_seconds
from meeting_records
where candidate_id = '10063807'
  and event_date like '%2026-02-18%'  -- adjust to your stored format
  and subject ilike '%Louisa%'
order by created_at desc;


select
  meeting_id,
  candidate_id,
  subject,
  processed,
  created_at as transcript_row_created_at,
  last_checked_at,
  retry_count,
  max_retries,
  transcript_available_at
from transcripts
where meeting_id = '<MEETING_ID>';


select
  mr.meeting_id,
  mr.region,
  mr.environment,
  mr.created_at            as meeting_row_created_at,
  mr.payload_submitted_at  as payload_submitted_at,
  mr.completed_at          as meeting_pipeline_completed_at,

  t.created_at             as transcript_row_created_at,
  t.transcript_available_at,
  t.last_checked_at,
  t.retry_count,
  t.max_retries,
  t.processed
from meeting_records mr
left join transcripts t
  on t.meeting_id = mr.meeting_id
where mr.meeting_id = '<MEETING_ID>';


select
  step_name,
  step_type,
  status,
  started_at,
  completed_at,
  duration_seconds,
  trace_id,
  langfuse_url
from pipeline_events
where meeting_record_id = '<MEETING_ID>'
order by started_at asc;

select
  meeting_id,
  created_at,
  last_checked_at,
  retry_count,
  transcript_available_at,
  (transcript_available_at - created_at) as time_waiting_for_transcript
from transcripts
where meeting_id = '<MEETING_ID>';




